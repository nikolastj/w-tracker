import{a as zt,b as Xt,c as Ht}from"./chunk-D3VHI7L5.js";import{a as Ne,b as Ot,c as We}from"./chunk-R2BF2BP2.js";import{b as Ut,c as Lt}from"./chunk-MRVFAIGK.js";import{a as Wt,b as Bt}from"./chunk-EUKUEZWE.js";import{a as wt,b as It,c as Tt,d as I,f as Mt,h as me,j as y,l as At,m as Ft,p as Rt,q as pe,s as he,u as Vt,y as Pt}from"./chunk-MAKPJVCC.js";import{f as Nt}from"./chunk-Z65JGT6J.js";import{a as Dt,c as Oe}from"./chunk-UM436QT6.js";import{b as Ct,d as Et,e as St}from"./chunk-75SVKVAW.js";import{D as z,F as gt,G as Ve,K as xt,L as Pe,M as vt,N as kt,O as le,P as yt,Q as de,R as Z,S as G,l as _t,n as De,x as ie,y as ft,z as bt}from"./chunk-HQPJQNUQ.js";import{a as ht,c as ut}from"./chunk-2ELLCBIN.js";import{$ as V,$a as ae,A as et,Aa as st,Ab as h,B as tt,Bc as Re,C as fe,Cb as u,Db as ce,Eb as W,Fb as Ae,Fc as A,Gb as U,Hb as F,I as it,Ib as R,Ja as c,Ka as ct,L as Xe,Ma as Te,Mb as mt,Na as ge,Nb as q,Ob as C,Pa as lt,Pb as ve,Qb as l,Rb as B,Sb as k,Tb as pt,U as He,Ua as x,Va as O,W as be,Wa as j,Xa as ne,Ya as Me,Yb as L,Z as rt,_ as nt,_a as v,a as Ee,b as Se,ba as P,c as we,da as m,h as Y,ha as b,hb as N,ia as g,ja as Ie,jb as _,ka as at,kb as f,kc as Fe,l as Je,lb as xe,ma as je,mb as oe,nb as se,ob as p,pb as a,pc as Q,qb as s,qc as w,rb as E,rc as te,sa as re,sb as $,tb as J,ub as ee,wa as H,xa as ot,yb as T,za as K,zb as dt}from"./chunk-GZYQEBDM.js";var ke=(()=>{class i{_listeners=[];notify(e,t){for(let r of this._listeners)r(e,t)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(t=>e!==t)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(t){return new(t||i)};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var $e=new P("CdkAccordion"),jt=(()=>{class i{_stateChanges=new Y;_openCloseAllActions=new Y;id=m(ie).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=j({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",w]},exportAs:["cdkAccordion"],features:[L([{provide:$e,useExisting:i}]),H]})}return i})(),$t=(()=>{class i{accordion=m($e,{optional:!0,skipSelf:!0});_changeDetectorRef=m(Q);_expansionDispatcher=m(ke);_openCloseAllSubscription=we.EMPTY;closed=new v;opened=new v;destroyed=new v;expandedChange=new v;id=m(ie).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let t=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,t)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;get disabled(){return this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=re(!1);_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,t)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===t&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(t){return new(t||i)};static \u0275dir=j({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",w],disabled:[2,"disabled","disabled",w]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[L([{provide:$e,useValue:void 0}])]})}return i})(),qt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=O({type:i});static \u0275inj=V({})}return i})();var di=["body"],mi=["bodyWrapper"],pi=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],hi=["mat-expansion-panel-header","*","mat-action-row"];function ui(i,n){}var _i=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],fi=["mat-panel-title","mat-panel-description","*"];function bi(i,n){i&1&&($(0,"span",1),Ie(),$(1,"svg",2),ee(2,"path",3),J()())}var qe=new P("MAT_ACCORDION"),Qt=new P("MAT_EXPANSION_PANEL"),gi=(()=>{class i{_template=m(ct);_expansionPanel=m(Qt,{optional:!0});constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=j({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]})}return i})(),Zt=new P("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Qe=(()=>{class i extends $t{_viewContainerRef=m(lt);_animationsDisabled=Ve();_document=m(je);_ngZone=m(ae);_elementRef=m(K);_renderer=m(Te);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new v;afterCollapse=new v;_inputChanges=new Y;accordion=m(qe,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=m(ie).getId("mat-expansion-panel-header-");constructor(){super();let e=m(Zt,{optional:!0});this._expansionDispatcher=m(ke),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(He(null),fe(()=>this.expanded&&!this._portal),it(1)).subscribe(()=>{this._portal=new Ct(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,t=this._body.nativeElement;return e===t||t.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:t})=>{e===this._bodyWrapper?.nativeElement&&t==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(t,r,o){if(t&1&&Ae(o,gi,5),t&2){let d;F(d=R())&&(r._lazyContent=d.first)}},viewQuery:function(t,r){if(t&1&&(U(di,5),U(mi,5)),t&2){let o;F(o=R())&&(r._body=o.first),F(o=R())&&(r._bodyWrapper=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(t,r){t&2&&C("mat-expanded",r.expanded)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",w],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[L([{provide:qe,useValue:void 0},{provide:Qt,useExisting:i}]),ne,H],ngContentSelectors:hi,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,r){t&1&&(ce(pi),W(0),a(1,"div",2,0)(3,"div",3,1)(5,"div",4),W(6,1),Me(7,ui,0,0,"ng-template",5),s(),W(8,2),s()()),t&2&&(c(),N("inert",r.expanded?null:""),c(2),p("id",r.id),N("aria-labelledby",r._headerId),c(4),p("cdkPortalOutlet",r._portal))},dependencies:[Et],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:var(--mat-expansion-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return i})();var Ze=(()=>{class i{panel=m(Qe,{host:!0});_element=m(K);_focusMonitor=m(_t);_changeDetectorRef=m(Q);_parentChangeSubscription=we.EMPTY;constructor(){m(De).load(Pe);let e=this.panel,t=m(Zt,{optional:!0}),r=m(new Fe("tabindex"),{optional:!0}),o=e.accordion?e.accordion._stateChanges.pipe(fe(d=>!!(d.hideToggle||d.togglePosition))):Je;this.tabIndex=parseInt(r||"")||0,this._parentChangeSubscription=tt(e.opened,e.closed,o,e._inputChanges.pipe(fe(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(fe(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),t&&(this.expandedHeight=t.expandedHeight,this.collapsedHeight=t.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:ft(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,t){e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(t,r){t&1&&h("click",function(){return r._toggle()})("keydown",function(d){return r._keydown(d)}),t&2&&(N("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),q("height",r._getHeaderHeight()),C("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:te(e)]},ngContentSelectors:fi,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(t,r){t&1&&(ce(_i),$(0,"span",0),W(1),W(2,1),W(3,2),J(),_(4,bi,3,0,"span",1)),t&2&&(C("mat-content-hide-toggle",!r._showToggle()),c(4),f(r._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return i})();var Gt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=j({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return i})(),Yt=(()=>{class i extends jt{_keyManager;_ownHeaders=new st;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(He(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(t=>t.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new bt(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ot(i)))(r||i)}})();static \u0275dir=j({type:i,selectors:[["mat-accordion"]],contentQueries:function(t,r,o){if(t&1&&Ae(o,Ze,5),t&2){let d;F(d=R())&&(r._headers=d)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,r){t&2&&C("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",w],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[L([{provide:qe,useExisting:i}]),ne]})}return i})(),Kt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=O({type:i});static \u0275inj=V({imports:[z,qt,St]})}return i})();var Jt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=O({type:i});static \u0275inj=V({imports:[z,kt]})}return i})();var M=class extends me{constructor(n){super({id:new y(n?.id||null),order:new y(n?.order||1,[I.required,I.min(1)]),reps:new y(n?.reps||null,[I.required,I.min(1)]),weight:new y(n?.weight||0,[I.required,I.min(0)]),isWarmupSet:new y(n?.isWarmupSet||!1),isDropSet:new y(n?.isDropSet||!1)})}getSubmitValue(){let n=this.value;return{id:n.id||void 0,order:n.order||1,reps:n.reps||0,weight:n.weight||0,isWarmupSet:n.isWarmupSet||!1,isDropSet:n.isDropSet||!1}}};var vi=["input"],ki=["label"],yi=["*"],Ci=new P("mat-checkbox-default-options",{providedIn:"root",factory:ti});function ti(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var S=(function(i){return i[i.Init=0]="Init",i[i.Checked=1]="Checked",i[i.Unchecked=2]="Unchecked",i[i.Indeterminate=3]="Indeterminate",i})(S||{}),Ge=class{source;checked},ei=ti(),Ye=(()=>{class i{_elementRef=m(K);_changeDetectorRef=m(Q);_ngZone=m(ae);_animationsDisabled=Ve();_options=m(Ci,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let t=new Ge;return t.source=this,t.checked=e,t}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new v;indeterminateChange=new v;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=S.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){m(De).load(Pe);let e=m(new Fe("tabindex"),{optional:!0});this._options=this._options||ei,this.color=this._options.color||ei.color,this.tabIndex=e==null?0:parseInt(e)||0,this.id=this._uniqueId=m(ie).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this.indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate()}set indeterminate(e){let t=e!=this._indeterminate();this._indeterminate.set(e),t&&(e?this._transitionCheckState(S.Indeterminate):this._transitionCheckState(this.checked?S.Checked:S.Unchecked),this.indeterminateChange.emit(e)),this._syncIndeterminate(e)}_indeterminate=re(!1);_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let t=this._currentCheckState,r=this._getAnimationTargetElement();if(!(t===e||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate.set(!1),this.indeterminateChange.emit(!1)}),this._checked=!this._checked,this._transitionCheckState(this._checked?S.Checked:S.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,t){if(this._animationsDisabled)return"";switch(e){case S.Init:if(t===S.Checked)return this._animationClasses.uncheckedToChecked;if(t==S.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case S.Unchecked:return t===S.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case S.Checked:return t===S.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case S.Indeterminate:return t===S.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["mat-checkbox"]],viewQuery:function(t,r){if(t&1&&(U(vi,5),U(ki,5)),t&2){let o;F(o=R())&&(r._inputElement=o.first),F(o=R())&&(r._labelElement=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(t,r){t&2&&(dt("id",r.id),N("tabindex",null)("aria-label",null)("aria-labelledby",null),ve(r.color?"mat-"+r.color:"mat-accent"),C("_mat-animation-noopable",r._animationsDisabled)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",w],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",w],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",w],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:te(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",w],checked:[2,"checked","checked",w],disabled:[2,"disabled","disabled",w],indeterminate:[2,"indeterminate","indeterminate",w]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[L([{provide:wt,useExisting:rt(()=>i),multi:!0},{provide:Tt,useExisting:i,multi:!0}]),H],ngContentSelectors:yi,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(t,r){if(t&1){let o=T();ce(),a(0,"div",3),h("click",function(X){return b(o),g(r._preventBubblingFromLabel(X))}),a(1,"div",4,0)(3,"div",5),h("click",function(){return b(o),g(r._onTouchTargetClick())}),s(),a(4,"input",6,1),h("blur",function(){return b(o),g(r._onBlur())})("click",function(){return b(o),g(r._onInputClick())})("change",function(X){return b(o),g(r._onInteractionEvent(X))}),s(),E(6,"div",7),a(7,"div",8),Ie(),a(8,"svg",9),E(9,"path",10),s(),at(),E(10,"div",11),s(),E(11,"div",12),s(),a(12,"label",13,2),W(14),s()()}if(t&2){let o=mt(2);p("labelPosition",r.labelPosition),c(4),C("mdc-checkbox--selected",r.checked),p("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),N("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-controls",r.ariaControls)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("aria-expanded",r.ariaExpanded)("aria-owns",r.ariaOwns)("name",r.name)("value",r.value),c(7),p("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),c(),p("for",r.inputId)}},dependencies:[xt,Wt],styles:[`.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mat-checkbox-state-layer-size, 40px);height:var(--mat-checkbox-state-layer-size, 40px);top:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);right:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mat-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-checkbox-touch-target-size, 48px);width:var(--mat-checkbox-touch-target-size, 48px);transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return i})(),ii=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=O({type:i});static \u0275inj=V({imports:[Ye,z,z]})}return i})();function Si(i,n){i&1&&(a(0,"mat-error"),l(1,"Required"),s())}function wi(i,n){i&1&&(a(0,"mat-error"),l(1,"Min: 1"),s())}function Ii(i,n){i&1&&(a(0,"mat-error"),l(1,"Required"),s())}function Ti(i,n){i&1&&(a(0,"mat-error"),l(1,"Min: 0"),s())}var Be=class i{setForm;showRemoveButton=!0;isEditMode=!1;hasSelectedSet=!1;removeSet=new v;addSet=new v;get isSetValid(){return this.setForm.valid}get addButtonText(){return this.isEditMode?"Update Set":"Add Set"}get addButtonIcon(){return this.isEditMode?"save":"add"}adjustReps(n){let e=this.setForm.controls.reps.value||0,t=Math.max(1,e+n);this.setForm.controls.reps.setValue(t)}adjustWeight(n){let e=this.setForm.controls.weight.value||0,t=Math.max(0,e+n);this.setForm.controls.weight.setValue(t)}onWarmupChange(n){n.checked&&this.setForm.controls.isDropSet.setValue(!1)}onDropSetChange(n){n.checked&&this.setForm.controls.isWarmupSet.setValue(!1)}onRemove(){this.removeSet.emit()}onAddSet(){this.isSetValid&&this.addSet.emit(this.setForm)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-exercise-set-form"]],inputs:{setForm:"setForm",showRemoveButton:"showRemoveButton",isEditMode:"isEditMode",hasSelectedSet:"hasSelectedSet"},outputs:{removeSet:"removeSet",addSet:"addSet"},decls:56,vars:11,consts:[[1,"flex","flex-col","gap-2","rounded-lg","border","p-2"],[1,"flex","items-center","gap-2"],[1,"min-w-0","flex-1"],[1,"mb-1","text-xs"],[1,"flex","items-center","gap-1"],["appearance","outline",1,"min-w-0","max-w-20","flex-1"],["matInput","","type","number","min","1","placeholder","0",1,"text-center","text-sm",3,"formControl"],[1,"flex","flex-col","gap-1"],["mat-mini-fab","",1,"",3,"click"],[1,"material-icons"],["matInput","","type","number","min","0","step","0.5","placeholder","0",1,"text-center","text-sm",3,"formControl"],[1,"flex","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-2","pr-2"],[1,"text-xs",3,"change","formControl"],["mat-raised-button","",1,"!bg-primary","!text-textOnPrimary","px-4",3,"click","disabled"],[1,"mr-1"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l(4,"Reps"),s(),a(5,"div",4)(6,"mat-form-field",5),E(7,"input",6),_(8,Si,2,0,"mat-error"),_(9,wi,2,0,"mat-error"),s(),a(10,"div",7)(11,"button",8),h("click",function(){return t.adjustReps(1)}),a(12,"i",9),l(13,"keyboard_arrow_up"),s()(),a(14,"button",8),h("click",function(){return t.adjustReps(-1)}),a(15,"i",9),l(16,"keyboard_arrow_down"),s()()(),a(17,"div",7)(18,"button",8),h("click",function(){return t.adjustReps(10)}),a(19,"i",9),l(20,"keyboard_double_arrow_up"),s()(),a(21,"button",8),h("click",function(){return t.adjustReps(-10)}),a(22,"i",9),l(23,"keyboard_double_arrow_down"),s()()()()(),a(24,"div",2)(25,"div",3),l(26,"Weight (kg)"),s(),a(27,"div",4)(28,"mat-form-field",5),E(29,"input",10),_(30,Ii,2,0,"mat-error"),_(31,Ti,2,0,"mat-error"),s(),a(32,"div",7)(33,"button",8),h("click",function(){return t.adjustWeight(1)}),a(34,"i",9),l(35,"keyboard_arrow_up"),s()(),a(36,"button",8),h("click",function(){return t.adjustWeight(-1)}),a(37,"i",9),l(38,"keyboard_arrow_down"),s()()(),a(39,"div",7)(40,"button",8),h("click",function(){return t.adjustWeight(10)}),a(41,"i",9),l(42,"keyboard_double_arrow_up"),s()(),a(43,"button",8),h("click",function(){return t.adjustWeight(-10)}),a(44,"i",9),l(45,"keyboard_double_arrow_down"),s()()()()()(),a(46,"div",11)(47,"div",12)(48,"mat-checkbox",13),h("change",function(o){return t.onWarmupChange(o)}),l(49," Warmup "),s(),a(50,"mat-checkbox",13),h("change",function(o){return t.onDropSetChange(o)}),l(51," Drop "),s()(),a(52,"button",14),h("click",function(){return t.onAddSet()}),a(53,"mat-icon",15),l(54),s(),l(55),s()()()),e&2&&(c(7),p("formControl",t.setForm.controls.reps),c(),f(t.setForm.controls.reps.touched&&t.setForm.controls.reps.hasError("required")?8:-1),c(),f(t.setForm.controls.reps.touched&&t.setForm.controls.reps.hasError("min")?9:-1),c(20),p("formControl",t.setForm.controls.weight),c(),f(t.setForm.controls.weight.touched&&t.setForm.controls.weight.hasError("required")?30:-1),c(),f(t.setForm.controls.weight.touched&&t.setForm.controls.weight.hasError("min")?31:-1),c(17),p("formControl",t.setForm.controls.isWarmupSet),c(2),p("formControl",t.setForm.controls.isDropSet),c(2),p("disabled",!t.isSetValid||t.isEditMode&&!t.hasSelectedSet),c(2),B(t.addButtonIcon),c(),k(" ",t.addButtonText," "))},dependencies:[A,he,It,At,Mt,Rt,Ft,Ne,Pt,Vt,We,Ot,ii,Ye,de,le,yt,G,Z],styles:["[_nghost-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{height:84px}[_nghost-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-form-field-infix{padding-block:4px;min-height:40px;top:24px}[_nghost-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{display:none}[_nghost-%COMP%]     .mat-mdc-form-field .mat-mdc-input-element{font-size:28px}[_nghost-%COMP%]     button.mat-mdc-mini-fab{box-shadow:none!important}"]})};function Ai(i,n){i&1&&(a(0,"mat-icon",1),l(1,"local_fire_department"),s())}function Fi(i,n){i&1&&(a(0,"mat-icon"),l(1,"trending_down"),s())}var Ue=class i{setForm;hasDropAfter=!1;isClickable=!1;isSelected=!1;isSmallView=!1;get displayText(){let n=this.setForm.controls.reps.value||0,e=this.setForm.controls.weight.value||0;return`${n} \xD7 ${e}kg`}get pillClasses(){let n=this.setForm.controls.isWarmupSet.value,e=this.setForm.controls.isDropSet.value,t="";return n?t="pill-warmup":e?t="pill-drop":t="pill-default",this.hasDropAfter&&(t+=" has-drop-after"),this.isClickable&&(t+=" hover:opacity-80 transition-opacity"),this.isSelected&&(t+=" ring-offset-2"),e&&!this.isSmallView&&(t+=" pl-0.5"),t}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-set-info"]],inputs:{setForm:"setForm",hasDropAfter:"hasDropAfter",isClickable:"isClickable",isSelected:"isSelected",isSmallView:"isSmallView"},decls:5,vars:12,consts:[[1,"set-pill","inline-flex","items-center","gap-1","rounded-full","bg-primary","px-3","py-1","text-sm","font-medium","text-textOnPrimary",3,"ngClass"],[1,"opacity-50"]],template:function(e,t){e&1&&(a(0,"div",0),_(1,Ai,2,0,"mat-icon",1),_(2,Fi,2,0,"mat-icon"),a(3,"span"),l(4),s()()),e&2&&(C("cursor-pointer",t.isClickable)("ring-2",t.isSelected)("ring-blue-400",t.isSelected)("small-layout",t.isSmallView),p("ngClass",t.pillClasses),c(),f(t.setForm.controls.isWarmupSet.value?1:-1),c(),f(t.setForm.controls.isDropSet.value&&!t.isSmallView?2:-1),c(2),k(" ",t.displayText," "))},dependencies:[A,Re,G,Z],styles:[".pill-drop[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0;background:linear-gradient(135deg,var(--color-primary),var(--color-primary-gradient))!important}.set-pill[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary-gradient),var(--color-primary))!important;min-height:32px}.set-pill.has-drop-after[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.set-info-container.small-layout[_ngcontent-%COMP%]{transform-origin:left;--tw-scale-x: .75;--tw-scale-y: .75;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));width:133.33%}.set-info-container.small-layout[_ngcontent-%COMP%]   .set-pill[_ngcontent-%COMP%]{padding:.125rem .25rem}"]})};var Ri=(i,n)=>n.index;function Di(i,n){if(i&1&&(a(0,"h3",1),l(1),s()),i&2){let e=u();c(),k("Sets (",e.setsArray.controls.length,")")}}function Vi(i,n){if(i&1){let e=T();a(0,"app-set-info",4),h("click",function(){let r=b(e).$implicit,o=u(4);return g(o.onSetClick(r.index))}),s()}if(i&2){let e=n.$implicit,t=u(4);p("setForm",e.form)("hasDropAfter",t.hasDropSetAfter(e.index))("isClickable",t.isEditMode)("isSelected",t.selectedSetIndex===e.index)("isSmallView",t.isSmallView)}}function Pi(i,n){if(i&1&&oe(0,Vi,1,5,"app-set-info",5,Ri),i&2){let e=u(2).$index,t=u();se(t.getFollowingDropSets(e))}}function Oi(i,n){if(i&1){let e=T();a(0,"app-set-info",4),h("click",function(){b(e);let r=u().$index,o=u();return g(o.onSetClick(r))}),s(),_(1,Pi,2,0)}if(i&2){let e=u(),t=e.$implicit,r=e.$index,o=u();p("setForm",t)("hasDropAfter",o.hasDropSetAfter(r))("isClickable",o.isEditMode)("isSelected",o.selectedSetIndex===r)("isSmallView",o.isSmallView),c(),f(o.hasDropSetAfter(r)?1:-1)}}function Ni(i,n){if(i&1&&(a(0,"div",3),_(1,Oi,2,6),s()),i&2){let e=n.$implicit;c(),f(e.controls.isDropSet.value?-1:1)}}var ue=class i{setsArray;isEditMode=!1;isSmallView=!1;selectedSetIndex=null;setSelected=new v;hasDropSetAfter(n){let e=n+1;return e>=this.setsArray.controls.length?!1:this.setsArray.controls[e].controls.isDropSet.value===!0}getFollowingDropSets(n){let e=[];for(let t=n+1;t<this.setsArray.controls.length;t++){let r=this.setsArray.controls[t];if(r.controls.isDropSet.value)e.push({index:t,form:r});else break}return e}onSetClick(n){this.isEditMode&&this.setSelected.emit(n)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-set-info-container"]],inputs:{setsArray:"setsArray",isEditMode:"isEditMode",isSmallView:"isSmallView",selectedSetIndex:"selectedSetIndex"},outputs:{setSelected:"setSelected"},decls:5,vars:3,consts:[[1,"flex","flex-col","gap-1"],[1,"m-0","text-sm","font-medium"],[1,"set-info-container","flex","flex-wrap","gap-1"],[1,"flex","gap-0.5"],[3,"click","setForm","hasDropAfter","isClickable","isSelected","isSmallView"],[3,"setForm","hasDropAfter","isClickable","isSelected","isSmallView"]],template:function(e,t){e&1&&(a(0,"div",0),_(1,Di,2,1,"h3",1),a(2,"div",2),oe(3,Ni,2,1,"div",3,xe),s()()),e&2&&(c(),f(t.isSmallView?-1:1),c(),C("small-layout",t.isSmallView),c(),se(t.setsArray.controls))},dependencies:[A,Ue],styles:[".pill-drop[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0;background:linear-gradient(135deg,var(--color-primary),var(--color-primary-gradient))!important}.set-pill[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary-gradient),var(--color-primary))!important;min-height:32px}.set-pill.has-drop-after[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.set-info-container.small-layout[_ngcontent-%COMP%]{transform-origin:left;--tw-scale-x: .75;--tw-scale-y: .75;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));width:133.33%}.set-info-container.small-layout[_ngcontent-%COMP%]   .set-pill[_ngcontent-%COMP%]{padding:.125rem .25rem}"]})};function Wi(i,n){i&1&&ee(0,"div",2)}var Bi=new P("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var ai=(()=>{class i{_elementRef=m(K);_ngZone=m(ae);_changeDetectorRef=m(Q);_renderer=m(Te);_cleanupTransitionEnd;constructor(){let e=gt(),t=m(Bi,{optional:!0});this._isNoopAnimation=e==="di-disabled",e==="reduced-motion"&&this._elementRef.nativeElement.classList.add("mat-progress-bar-reduced-motion"),t&&(t.color&&(this.color=this._defaultColor=t.color),this.mode=t.mode||this.mode)}_isNoopAnimation;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=ni(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=ni(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new v;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(t,r){t&2&&(N("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),ve("mat-"+r.color),C("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",te],bufferValue:[2,"bufferValue","bufferValue",te],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,r){t&1&&($(0,"div",0),ee(1,"div",1),_(2,Wi,1,0,"div",2),J(),$(3,"div",3),ee(4,"span",4),J(),$(5,"div",5),ee(6,"span",4),J()),t&2&&(c(),q("flex-basis",r._getBufferBarFlexBasis()),c(),f(r.mode==="buffer"?2:-1),c(),q("transform",r._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{--mat-progress-bar-animation-multiplier: 1;display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mat-progress-bar-reduced-motion{--mat-progress-bar-animation-multiplier: 2}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mat-progress-bar-track-height, 4px),var(--mat-progress-bar-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mat-progress-bar-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mat-progress-bar-track-height, 4px);border-radius:var(--mat-progress-bar-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mat-progress-bar-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return i})();function ni(i,n=0,e=100){return Math.max(n,Math.min(e,i))}var oi=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=O({type:i});static \u0275inj=V({imports:[z]})}return i})();function Li(i,n){if(i&1&&(a(0,"div",0)(1,"div",2)(2,"span",3),l(3),s(),a(4,"span",4),l(5),s(),a(6,"span"),l(7),a(8,"span",3),l(9),s()()(),E(10,"mat-progress-bar",5),a(11,"div",6),l(12,"100%"),s(),a(13,"div",7)(14,"div",8),E(15,"app-set-info-container",9),s()()()),i&2){let e=u();c(3),k("Last time:\xA0",e.previousWorkoutDate),c(),p("ngClass",e.progressColorClass),c(),k("",e.progressPercentage.toFixed(1),"%"),c(2),B(e.currentTotalProgress),c(2),pt("/",e.previousTotalProgress," (",e.progressUnit,")"),c(),q("opacity",e.progressOpacity),p("value",e.progressPercentage),c(),C("show",e.showCelebration),c(4),p("setsArray",e.previousSetsArray)("isEditMode",!1)("isSmallView",!0)}}function zi(i,n){i&1&&(a(0,"div",1)(1,"div",10),l(2," No exercise record in the last month "),s()())}var Le=class i{exerciseForm;currentTotalProgress=0;previousTotalProgress=0;progressUnit="kg";progressPercentage=0;showProgress=!1;previousWorkoutDate="";previousSetsArray=new pe([]);showCelebration=!1;hasReached100=!1;destroy$=new Y;get progressColorClass(){return this.progressPercentage>=95?"text-green-600 dark:text-green-400":this.progressPercentage>=55?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}get progressOpacity(){return Math.max(.2,this.progressPercentage/100)}ngOnInit(){this.setupProgressTracking()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setupProgressTracking(){this.calculateTotalWeights(),this.exerciseForm.setsArray.valueChanges.pipe(be(this.destroy$)).subscribe(()=>{this.calculateTotalWeights()}),this.exerciseForm.setsArray.controls.forEach((n,e)=>{n.valueChanges.pipe(be(this.destroy$)).subscribe(()=>{this.calculateTotalWeights()})}),this.watchForNewSets()}watchForNewSets(){let n=this.exerciseForm.setsArray.length;this.exerciseForm.setsArray.valueChanges.pipe(be(this.destroy$)).subscribe(()=>{let e=this.exerciseForm.setsArray.length;if(e>n)for(let t=n;t<e;t++)this.exerciseForm.setsArray.at(t).valueChanges.pipe(be(this.destroy$)).subscribe(()=>{this.calculateTotalWeights()});n=e})}calculateTotalWeights(){let n=this.progressPercentage;this.progressUnit=this.exerciseForm.isCore?"reps":"kg",this.currentTotalProgress=this.calculateCurrentProgress(),this.previousTotalProgress=this.calculatePreviousProgress(),this.setPreviousWorkoutInfo(),this.previousTotalProgress>0?(this.progressPercentage=this.currentTotalProgress/this.previousTotalProgress*100,this.showProgress=!0,this.progressPercentage>=100&&!this.hasReached100&&n<100&&(this.triggerCelebration(),this.hasReached100=!0)):(this.progressPercentage=0,this.showProgress=!1)}triggerCelebration(){this.showCelebration=!0}calculateCurrentProgress(){let n=this.exerciseForm.setsArray.value,e=this.exerciseForm.isCore;return n.filter(t=>!t.isWarmupSet).reduce((t,r)=>{let o=r.weight||0,d=r.reps||0;return e?t+d:t+o*d},0)}calculatePreviousProgress(){let n=this.exerciseForm.previousExercises;if(!n||n.length===0)return 0;let e=n[0],t=this.exerciseForm.isCore;return e.sets.filter(r=>!r.isWarmupSet).reduce((r,o)=>{let d=o.weight||0,X=o.reps||0;return t?r+X:r+d*X},0)}setPreviousWorkoutInfo(){let n=this.exerciseForm.previousExercises;if(!n||n.length===0){this.previousWorkoutDate="",this.previousSetsArray.clear();return}let e=n[0],t=new Date(e.lastWorkoutDate);this.previousWorkoutDate=t.toLocaleDateString("en-US",{month:"short",day:"numeric"}),this.previousSetsArray.clear(),e.sets.sort((o,d)=>o.order-d.order).forEach(o=>{this.previousSetsArray.push(new M(o))})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-exercise-progress-bar"]],inputs:{exerciseForm:"exerciseForm"},decls:2,vars:1,consts:[[1,"relative","my-2"],[1,"my-2"],[1,"mt-1","flex","items-center","justify-between","text-xs"],[1,"text-gray-600","dark:text-gray-400"],[3,"ngClass"],["mode","determinate",1,"h-2","overflow-hidden","rounded-md",3,"value"],[1,"celebration-overlay"],[1,"mb-1","flex","flex-col","gap-1"],[1,"origin-left","opacity-60"],[3,"setsArray","isEditMode","isSmallView"],[1,"text-center","text-xs","text-gray-600","dark:text-gray-400"]],template:function(e,t){e&1&&_(0,Li,16,14,"div",0)(1,zi,3,0,"div",1),e&2&&f(t.showProgress?0:1)},dependencies:[A,Re,oi,ai,ue],styles:["mat-progress-bar .mat-progress-bar-fill:after{border-radius:.375rem}  mat-progress-bar .mat-progress-bar-buffer{border-radius:.375rem}.celebration-overlay[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:3rem;font-weight:700;color:#22c55e;text-shadow:0 0 10px rgba(34,197,94,.8);pointer-events:none;z-index:10;display:none}.celebration-overlay.show[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_celebrate100 2s ease-in-out forwards}@keyframes _ngcontent-%COMP%_celebrate100{0%{transform:translate(-50%,-50%) scale(.5);opacity:0}25%{transform:translate(-50%,-50%) scale(1.2);opacity:1}50%{transform:translate(-50%,-50%) scale(1.4);opacity:1}75%{transform:translate(-50%,-50%) scale(1.2);opacity:1}to{transform:translate(-50%,-50%) scale(.8);opacity:0;display:none}}"]})};function Xi(i,n){if(i&1){let e=T();a(0,"app-set-info-container",9),h("setSelected",function(r){b(e);let o=u();return g(o.onSetSelected(r))}),s()}if(i&2){let e=u();p("setsArray",e.exerciseForm.setsArray)("isEditMode",e.isEditMode)("selectedSetIndex",e.selectedSetIndex)}}function Hi(i,n){if(i&1){let e=T();a(0,"button",10),h("click",function(){b(e);let r=u();return g(r.onEditAction())}),a(1,"mat-icon",8),l(2),s(),l(3),s()}if(i&2){let e=u();c(2),B(e.editButtonIcon),c(),k(" ",e.editButtonText," ")}}var ze=class i{exerciseForm;removeExercise=new v;newSetForm=new M;isEditMode=!1;selectedSetIndex=null;ngOnInit(){this.initializeNewSetForm()}ngOnChanges(n){n.exerciseForm&&this.initializeNewSetForm()}initializeNewSetForm(){let n=this.getLastNonDropSet();n?(this.newSetForm=new M,this.newSetForm.patchValue({reps:n.reps,weight:n.weight})):this.newSetForm=new M}getLastNonDropSet(){let n=this.exerciseForm.setsArray.controls;if(n.length===0)return null;for(let e=n.length-1;e>=0;e--){let t=n[e];if(!t.controls.isDropSet.value)return{reps:t.controls.reps.value,weight:t.controls.weight.value}}return null}addSet(n){n.valid&&(this.isEditMode&&this.selectedSetIndex!==null?this.updateSelectedSet(n):this.addNewSet(n))}addNewSet(n){let e=n.getSubmitValue(),t=this.exerciseForm.setsArray.value,r=t.length>0?Math.max(...t.map(d=>d.order||0))+1:1,o=new M;o.patchValue(Se(Ee({},e),{order:r})),this.exerciseForm.setsArray.push(o),this.exerciseForm.markAsDirty(),this.initializeNewSetForm()}updateSelectedSet(n){if(this.selectedSetIndex!==null){let e=this.exerciseForm.setsArray.at(this.selectedSetIndex);if(e){let t=n.getSubmitValue();e.patchValue({reps:t.reps,weight:t.weight,isWarmupSet:t.isWarmupSet,isDropSet:t.isDropSet}),this.exerciseForm.markAsDirty(),this.exitEditMode()}}}get removeButtonText(){return this.exerciseForm.setsArray.length===0?"Remove Exercise":this.isEditMode?"Remove Current Set":"Remove Last Set"}get removeButtonIcon(){return this.exerciseForm.setsArray.length===0?"delete":this.isEditMode?"delete_outline":"remove_circle_outline"}get editButtonText(){return this.isEditMode?"Unselect":"Edit Sets"}get editButtonIcon(){return this.isEditMode?"close":"edit"}get isRemoveButtonDisabled(){return this.isEditMode&&this.selectedSetIndex===null&&this.exerciseForm.setsArray.length>0}onRemoveAction(){this.exerciseForm.setsArray.length===0?this.onRemoveExercise():this.isEditMode&&this.selectedSetIndex!==null?this.removeCurrentSet():this.removeLastSet()}removeLastSet(){let n=this.exerciseForm.setsArray.length-1;n>=0&&(this.exerciseForm.removeSet(n),this.initializeNewSetForm())}removeCurrentSet(){this.selectedSetIndex!==null&&this.selectedSetIndex>=0&&(this.exerciseForm.removeSet(this.selectedSetIndex),this.exitEditMode())}onEditAction(){this.isEditMode?this.exitEditMode():this.enterEditMode()}enterEditMode(){this.isEditMode=!0}exitEditMode(){this.isEditMode=!1,this.selectedSetIndex=null,this.initializeNewSetForm()}onSetSelected(n){this.isEditMode&&(this.selectedSetIndex=n,this.loadSetForEditing(n))}loadSetForEditing(n){let e=this.exerciseForm.setsArray.at(n);e&&(this.newSetForm=new M,this.newSetForm.patchValue({reps:e.controls.reps.value,weight:e.controls.weight.value,isWarmupSet:e.controls.isWarmupSet.value,isDropSet:e.controls.isDropSet.value}))}onRemoveExercise(){this.removeExercise.emit()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-exercise-instance-form"]],inputs:{exerciseForm:"exerciseForm"},outputs:{removeExercise:"removeExercise"},features:[H],decls:12,vars:10,consts:[[1,"flex","flex-col","gap-2"],[1,"flex","flex-col","gap-1"],[3,"addSet","setForm","showRemoveButton","isEditMode","hasSelectedSet"],[3,"setsArray","isEditMode","selectedSetIndex"],[3,"exerciseForm"],[1,"flex","justify-between"],["mat-stroked-button","","color","primary",1,"px-4"],["mat-stroked-button","","color","warn",1,"px-4",3,"click","disabled"],[1,"mr-1"],[3,"setSelected","setsArray","isEditMode","selectedSetIndex"],["mat-stroked-button","","color","primary",1,"px-4",3,"click"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",0)(3,"app-exercise-set-form",2),h("addSet",function(o){return t.addSet(o)}),s()(),_(4,Xi,1,3,"app-set-info-container",3),E(5,"app-exercise-progress-bar",4),s(),a(6,"div",5),_(7,Hi,4,2,"button",6),a(8,"button",7),h("click",function(){return t.onRemoveAction()}),a(9,"mat-icon",8),l(10),s(),l(11),s()()()),e&2&&(c(3),p("setForm",t.newSetForm)("showRemoveButton",!1)("isEditMode",t.isEditMode)("hasSelectedSet",t.selectedSetIndex!==null),c(),f(t.exerciseForm.setsArray.controls.length>0?4:-1),c(),p("exerciseForm",t.exerciseForm),c(2),f(t.exerciseForm.setsArray.controls.length>0?7:-1),c(),p("disabled",t.isRemoveButtonDisabled),c(2),B(t.removeButtonIcon),c(),k(" ",t.removeButtonText," "))},dependencies:[A,he,Ne,We,de,le,G,Z,Jt,Oe,Be,ue,Le],encapsulation:2})};var Ce=class i extends me{constructor(n){super({id:new y(n?.id||null),order:new y(n?.order||null),sets:new pe(n?.sets?.sort((e,t)=>e.order-t.order).map(e=>new M(e))||[],[i.atLeastOneSetValidator]),exerciseType:new y(n?.exerciseType||null,I.required),comment:new y(n?.comment||""),energyLevel:new y(n?.energyLevel||null,[I.min(1),I.max(10)])})}previousExercises=[];get typeId(){return this.controls.exerciseType.value?.id||null}get isCore(){return this.controls.exerciseType.value?.isCore||!1}get usesNegativeWeight(){return this.controls.exerciseType.value?.usesNegativeWeight||!1}get setsArray(){return this.controls.sets}addSet(){let n=this.setsArray.value,e=n.length>0?Math.max(...n.map(r=>r.order||0))+1:1,t=new M;t.patchValue({order:e}),this.setsArray.push(t),this.markAsDirty()}removeSet(n){this.setsArray.removeAt(n),this.reorderSets(),this.markAsDirty()}reorderSets(){this.setsArray.controls.forEach((n,e)=>{n.patchValue({order:e+1})})}getSubmitValue(){let n=this.value;return{id:n.id||void 0,order:n.order||1,sets:this.setsArray.controls.map(e=>e.getSubmitValue()),exerciseType:n.exerciseType,comment:n.comment||null,energyLevel:n.energyLevel||null}}static atLeastOneSetValidator=n=>n.length>0?null:{atLeastOneSet:!0}};var _e=class i extends me{constructor(n){super({id:new y(n?.id||null),dateCreated:new y(n?.dateCreated||new Date().toISOString(),I.required),exercises:new pe(n?.exercises?.sort((e,t)=>e.order-t.order).map(e=>new Ce(e))||[],[i.atLeastOneExerciseValidator]),comment:new y(n?.comment||""),energyLevel:new y(n?.energyLevel||null,[I.min(1),I.max(10)])})}get exercisesArray(){return this.controls.exercises}addExercise(){let n=this.exercisesArray.value,e=n.length>0?Math.max(...n.map(r=>r.order||0))+1:1,t=new Ce;return t.patchValue({order:e}),this.exercisesArray.push(t),this.markAsDirty(),t}removeExercise(n){this.exercisesArray.removeAt(n),this.reorderExercises(),this.markAsDirty()}reorderExercises(){this.exercisesArray.controls.forEach((n,e)=>{n.patchValue({order:e+1})})}getSubmitValue(){let n=this.value;return{id:n.id||void 0,dateCreated:n.dateCreated||new Date().toISOString(),exercises:this.exercisesArray.controls.map(e=>e.getSubmitValue()),comment:n.comment||null,energyLevel:n.energyLevel||null}}static atLeastOneExerciseValidator=n=>n.length>0?null:{atLeastOneExercise:!0}};var ji=["exerciseSelect"];function $i(i,n){i&1&&(a(0,"div",2),E(1,"app-loader",10),s()),i&2&&(c(),p("opacity",80))}function qi(i,n){if(i&1){let e=T();a(0,"button",21),h("click",function(){b(e);let r=u(2);return g(r.showAddExerciseDropdown())}),a(1,"mat-icon",19),l(2,"add"),s(),l(3," Add New Exercise "),s()}if(i&2){let e=u(2);p("disabled",!e.areAllExercisesValid)}}function Qi(i,n){if(i&1&&l(0),i&2){let e=u().item;k(" | ",e.requisiteUsed," ")}}function Zi(i,n){if(i&1&&(a(0,"div",24)(1,"span",25),l(2),s(),a(3,"span",26),l(4),_(5,Qi,1,1),s()()),i&2){let e=n.item;c(2),k("",e.name,"\xA0"),c(2),k(" | ",e.primaryMuscleTargeted.group," "),c(),f(e.requisiteUsed?5:-1)}}function Gi(i,n){if(i&1){let e=T();a(0,"div",15)(1,"ng-select",22,0),h("change",function(r){b(e);let o=u(2);return g(o.onExerciseTypeSelected(r))}),Me(3,Zi,6,3,"ng-template",23),s(),a(4,"button",5),h("click",function(){b(e);let r=u(2);return g(r.cancelExerciseSelection())}),a(5,"mat-icon"),l(6,"close"),s()()()}if(i&2){let e=u(2);c(),p("items",e.availableExerciseTypes)("searchFn",e.exerciseSearchFn)("loading",e.isLoading)("isOpen",!0)}}function Yi(i,n){if(i&1&&(a(0,"span",29),l(1),s()),i&2){let e=u().$implicit;c(),k(" (",e.controls.exerciseType.value==null?null:e.controls.exerciseType.value.requisiteUsed,") ")}}function Ki(i,n){if(i&1){let e=T();a(0,"mat-expansion-panel",28),h("expandedChange",function(r){let o=b(e).$index,d=u(3);return g(d.onPanelExpandedChange(o,r))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),l(3),_(4,Yi,2,1,"span",29),s()(),a(5,"app-exercise-instance-form",30),h("removeExercise",function(){let r=b(e).$index,o=u(3);return g(o.removeExercise(r))}),s()()}if(i&2){let e=n.$implicit,t=n.$index,r=u(3);p("expanded",r.expandedPanelIndex===t),c(3),k(" ",(e.controls.exerciseType.value==null?null:e.controls.exerciseType.value.name)||"New Exercise"," "),c(),f(r.hasExerciseVariation(e)?4:-1),c(),p("exerciseForm",e)}}function Ji(i,n){if(i&1&&(a(0,"mat-accordion",16),oe(1,Ki,6,4,"mat-expansion-panel",27,xe),s()),i&2){let e=u(2);c(),se(e.workoutForm.exercisesArray.controls)}}function er(i,n){if(i&1){let e=T();a(0,"mat-card",9)(1,"div",11)(2,"div",12)(3,"div",13),_(4,qi,4,1,"button",14),_(5,Gi,7,4,"div",15),s(),_(6,Ji,3,0,"mat-accordion",16),s()(),a(7,"div",17)(8,"button",18),h("click",function(){b(e);let r=u();return g(r.discardWorkout())}),a(9,"mat-icon",19),l(10,"delete_outline"),s(),l(11," Discard Workout "),s(),a(12,"button",20),h("click",function(){b(e);let r=u();return g(r.saveWorkout())}),a(13,"mat-icon",19),l(14,"save"),s(),l(15),s()()()}if(i&2){let e=u();c(4),f(e.showExerciseSelect?-1:4),c(),f(e.showExerciseSelect?5:-1),c(),f(e.workoutForm.exercisesArray.controls.length>0?6:-1),c(6),p("disabled",!e.workoutForm.valid||e.isApiLoading()),c(3),k(" ",e.isEditMode?"Update Workout":"Save Workout"," ")}}var si=class i extends Nt{constructor(e,t,r,o){super();this.router=e;this.route=t;this.exerciseTypesService=r;this.workoutsService=o}exerciseSelect;exerciseTypes=[];isLoading=!1;isApiLoading=re(!1);workoutForm=new _e;showExerciseSelect=!1;expandedPanelIndex=null;isEditMode=!1;previousExercisesMap=new Map;ngOnInit(){this.loadExerciseTypes();let e=this.route.snapshot.paramMap.get("id");this.isEditMode=!!e,e?this.loadWorkoutById(+e):(this.loadTodaysWorkouts(),this.workoutsService.readCachedLastMonthWorkouts().subscribe(t=>{this.populatePreviousExercisesMap(t)})),this.pingBE()}get availableExerciseTypes(){let e=this.workoutForm.exercisesArray.controls.map(t=>t.controls.exerciseType.value?.id).filter(t=>t!=null);return this.exerciseTypes.filter(t=>!e.includes(t.id))}get areAllExercisesValid(){return this.workoutForm.exercisesArray.controls.every(e=>e.valid)}exerciseSearchFn=(e,t)=>{if(!e)return!0;let r=e.toLowerCase(),o=t.name.toLowerCase(),d=t.primaryMuscleTargeted.group.toLowerCase(),X=t.requisiteUsed?.toLowerCase()||"";return o.includes(r)||d.includes(r)||X.includes(r)};showAddExerciseDropdown(){this.showExerciseSelect=!0,setTimeout(()=>{this.exerciseSelect&&this.exerciseSelect.focus()},0)}onExerciseTypeSelected(e){if(e){let t=this.workoutForm.addExercise();t.previousExercises=this.previousExercisesMap.get(e.id)||[];let r=this.workoutForm.exercisesArray.length-1,o=this.workoutForm.exercisesArray.at(r);if(o.patchValue({exerciseType:e}),this.previousExercisesMap.has(e.id)){let d=this.previousExercisesMap.get(e.id);o.previousExercises=d}this.expandedPanelIndex=r,this.showExerciseSelect=!1}}cancelExerciseSelection(){this.showExerciseSelect=!1}onPanelExpandedChange(e,t){t?this.expandedPanelIndex=e:this.expandedPanelIndex===e&&(this.expandedPanelIndex=null)}removeExercise(e){this.workoutForm.removeExercise(e),this.expandedPanelIndex!==null&&(this.expandedPanelIndex===e?this.expandedPanelIndex=null:this.expandedPanelIndex>e&&this.expandedPanelIndex--)}loadExerciseTypes(){this.isLoading=!0,this.exerciseTypesService.getExerciseTypes().pipe(Xe(()=>this.isLoading=!1)).subscribe({next:e=>{this.exerciseTypes=e}})}loadTodaysWorkouts(){this.isApiLoading.set(!0),this.workoutsService.getTodaysWorkout().subscribe({next:e=>{e&&(this.workoutForm=new _e(e),this.isEditMode=!0),this.isApiLoading.set(!1)},error:e=>{console.error("Failed to load today's workout:",e),this.isEditMode=!!this.workoutForm.value.id,this.isApiLoading.set(!1)}})}loadWorkoutById(e){this.isApiLoading.set(!0),this.workoutsService.getWorkoutById(e).subscribe({next:t=>{this.workoutForm=new _e(t),this.isEditMode=!0,this.workoutsService.readCachedLastMonthWorkouts(t.dateCreated).subscribe({next:r=>{this.populatePreviousExercisesMap(r),this.isApiLoading.set(!1)},error:()=>{this.isApiLoading.set(!1)}})},error:t=>{console.error("Failed to load workout:",t),this.isEditMode=!1,this.isApiLoading.set(!1)}})}populatePreviousExercisesMap(e){this.previousExercisesMap.clear(),e.forEach(t=>{t.exercises.forEach(r=>{let o=r.exerciseType.id,d=Se(Ee({},r),{lastWorkoutDate:t.dateCreated});this.previousExercisesMap.has(o)?this.previousExercisesMap.get(o).push(d):this.previousExercisesMap.set(o,[d])})}),this.previousExercisesMap.forEach((t,r)=>{t.sort((o,d)=>new Date(d.lastWorkoutDate).getTime()-new Date(o.lastWorkoutDate).getTime())}),this.addPreviousExerciseDataToInstanceForms()}addPreviousExerciseDataToInstanceForms(){this.workoutForm.exercisesArray.controls.forEach(e=>{let t=e.typeId;if(t&&this.previousExercisesMap.has(t)){let r=this.previousExercisesMap.get(t);e.previousExercises=r}else e.previousExercises=[]})}goBack(){this.router.navigate(["/dashboard"])}discardWorkout(){this.router.navigate(["/dashboard"])}hasUnsavedChanges(){return this.workoutForm.dirty}getConfirmationDialogData(){return{title:"Discard Workout?",message:"You have unsaved changes to your workout. Are you sure you want to leave?",confirmText:"Discard"}}hasExerciseVariation(e){let t=e.controls.exerciseType.value;return t?.id?!!this.exerciseTypes.find(o=>o.id===t.id)?.variationOfExercise:!1}saveWorkout(){if(!this.workoutForm.valid)return;this.isApiLoading.set(!0);let e=this.workoutForm.getSubmitValue(),t=e.id;(t?this.workoutsService.updateWorkout(t,e):this.workoutsService.createWorkout(e)).pipe(Xe(()=>this.isApiLoading.set(!1))).subscribe({next:o=>{this.workoutForm.markAsPristine(),this.router.navigate(["/dashboard"])}})}pingBE(){et(2e4).pipe(this.takeUntilDestroyed).subscribe(()=>{this.workoutsService.getTodaysWorkout().subscribe()})}static \u0275fac=function(t){return new(t||i)(ge(ut),ge(ht),ge(Ut),ge(Lt))};static \u0275cmp=x({type:i,selectors:[["app-workout-create"]],viewQuery:function(t,r){if(t&1&&U(ji,5),t&2){let o;F(o=R())&&(r.exerciseSelect=o.first)}},features:[ne],decls:13,vars:4,consts:[["exerciseSelect",""],[1,"container","relative","mx-auto","h-full","max-w-4xl","md:p-6"],[1,"absolute","inset-0","z-50","h-screen","w-screen"],[1,"mb-8","hidden","md:block"],[1,"mb-4","flex","items-center","gap-4"],["mat-icon-button","",3,"click"],[1,"text-3xl","font-bold"],[1,"opacity-70"],[1,"grid","h-full","gap-6"],[1,"flex","h-full","flex-col","p-3","md:p-6"],[1,"flex","h-full","w-full",3,"opacity"],[1,"flex-1"],[1,"flex","flex-col","gap-2"],[1,"flex","items-center","gap-4"],["mat-raised-button","","color","primary",1,"px-6",3,"disabled"],[1,"flex","w-full","max-w-md","items-center","gap-2"],["multi","false"],[1,"mt-6","flex","justify-between","pt-4"],["mat-stroked-button","","color","warn",1,"px-6",3,"click"],[1,"mr-2"],["mat-stroked-button","","color","accent",1,"px-6",3,"click","disabled"],["mat-raised-button","","color","primary",1,"px-6",3,"click","disabled"],["bindLabel","name","placeholder","Select an exercise type...",1,"flex-1",3,"change","items","searchFn","loading","isOpen"],["ng-option-tmp",""],[1,"flex"],[1,"font-medium"],[1,"text-sm","opacity-70"],[3,"expanded"],[3,"expandedChange","expanded"],[1,"ml-2","opacity-70"],[3,"removeExercise","exerciseForm"]],template:function(t,r){t&1&&(a(0,"div",1),_(1,$i,2,1,"div",2),a(2,"div",3)(3,"div",4)(4,"button",5),h("click",function(){return r.goBack()}),a(5,"mat-icon"),l(6,"arrow_back"),s()(),a(7,"h1",6),l(8),s()(),a(9,"p",7),l(10),s()(),a(11,"div",8),_(12,er,16,5,"mat-card",9),s()()),t&2&&(c(),f(r.isApiLoading()?1:-1),c(7),B(r.isEditMode?"Edit Workout":"Create New Workout"),c(2),k(" ",r.isEditMode?"Modify your existing workout routine":"Design and create your custom workout routine"," "),c(2),f(r.workoutForm?12:-1))},dependencies:[A,he,de,le,vt,G,Z,Oe,Dt,Kt,Yt,Qe,Ze,Gt,Ht,Xt,zt,ze,Bt],styles:["[_nghost-%COMP%]     .mat-expansion-panel-spacing{margin:0}[_nghost-%COMP%]     .mat-accordion .mat-expansion-panel:not(:first-of-type):not(:last-of-type){border-radius:0}[_nghost-%COMP%]     .mat-accordion .mat-expansion-panel:last-of-type{border-top-right-radius:0;border-top-left-radius:0}[_nghost-%COMP%]     .mat-accordion .mat-expansion-panel:first-of-type{border-bottom-right-radius:0;border-bottom-left-radius:0}[_nghost-%COMP%]     .mat-expansion-panel-body{padding:0 8px 10px}"]})};export{M as a,Be as b,Ue as c,ue as d,ze as e,Ce as f,_e as g,si as h};
