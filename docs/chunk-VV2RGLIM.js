import{b as ut,c as st}from"./chunk-D3VHI7L5.js";import{a as $,b as tt,c as et}from"./chunk-R2BF2BP2.js";import{a as ct}from"./chunk-PXLQLCEV.js";import{c as ot,d as it,e as nt,f as at,h as mt}from"./chunk-6TXZEPZD.js";import{b as lt}from"./chunk-EUKUEZWE.js";import"./chunk-YO6PYBD6.js";import{b as V,d as h,f as A,g as R,h as H,j as d,k as P,l as B,n as G,o as q,p as U,s as j,t as J,u as Q,v as X,y as Z}from"./chunk-MAKPJVCC.js";import{f as rt}from"./chunk-Z65JGT6J.js";import{a as Y,b as z,c as K}from"./chunk-UM436QT6.js";import"./chunk-AT2W5Z2E.js";import"./chunk-GPI6QAEZ.js";import"./chunk-3U2X7UVV.js";import"./chunk-DW2C3LMS.js";import"./chunk-ZAS3L3ZL.js";import"./chunk-75SVKVAW.js";import{M as F,O as T,Q as N,R as O,S as L}from"./chunk-HQPJQNUQ.js";import{c as E}from"./chunk-2ELLCBIN.js";import{Ab as S,Fc as D,Ja as a,L as y,Mb as w,Na as v,Qb as o,Ua as _,Xa as x,ha as k,ia as C,jb as p,kb as f,ob as c,pb as e,qb as t,rb as s,sa as M,yb as I}from"./chunk-GZYQEBDM.js";var g=(m=>(m.LOW="low",m.MEDIUM="medium",m.HIGH="high",m))(g||{}),dt={low:"Low Intensity",medium:"Medium Intensity",high:"High Intensity"};var b=class extends H{constructor(r){super({id:new d(r?.id||null),dateCreated:new d(r?.dateCreated?new Date(r.dateCreated):new Date,h.required),duration:new d(r?.duration||null,[h.required,h.min(1)]),intensity:new d(r?.intensity||null,h.required),comment:new d(r?.comment||"")})}getSubmitValue(){let r=this.value;return{id:r.id||void 0,dateCreated:r.dateCreated?.toISOString()||new Date().toISOString(),duration:r.duration,intensity:r.intensity,comment:r.comment||null}}};function ft(i,r){i&1&&(e(0,"div",2),s(1,"app-loader",24),t()),i&2&&(a(),c("opacity",80))}function ht(i,r){i&1&&(e(0,"div",14),o(1,"Intensity level is required"),t())}function kt(i,r){i&1&&(e(0,"mat-error"),o(1,"Duration is required"),t())}function Ct(i,r){i&1&&(e(0,"mat-error"),o(1,"Duration must be at least 1 minute"),t())}var pt=class i extends rt{constructor(l,m){super();this.router=l;this.stretchWorkoutsService=m}stretchWorkoutForm=new b;isApiLoading=M(!1);intensityOptions=Object.values(g).map(l=>({value:l,label:dt[l]}));ngOnInit(){}goBack(){this.router.navigate(["/dashboard"])}discardWorkout(){this.router.navigate(["/dashboard"])}hasUnsavedChanges(){return this.stretchWorkoutForm.dirty}getConfirmationDialogData(){return{title:"Discard Stretch Workout?",message:"You have unsaved changes. Are you sure you want to leave?",confirmText:"Discard"}}saveWorkout(){if(!this.stretchWorkoutForm.valid){this.stretchWorkoutForm.markAllAsTouched();return}this.isApiLoading.set(!0);let l=this.stretchWorkoutForm.getSubmitValue();this.stretchWorkoutsService.createStretchWorkout(l).pipe(y(()=>this.isApiLoading.set(!1))).subscribe({next:()=>{this.stretchWorkoutForm.markAsPristine(),this.router.navigate(["/dashboard"])}})}static \u0275fac=function(m){return new(m||i)(v(E),v(ct))};static \u0275cmp=_({type:i,selectors:[["app-stretch-workout-create"]],features:[x],decls:45,vars:10,consts:[["picker",""],[1,"container","relative","mx-auto","h-full","max-w-2xl","md:p-6"],[1,"absolute","inset-0","z-50","h-screen","w-screen"],[1,"mb-6","hidden","md:block"],[1,"mb-4","flex","items-center","gap-4"],["mat-icon-button","",3,"click"],[1,"stretch-workout-title","text-3xl","font-bold"],[1,"opacity-70"],[3,"ngSubmit","formGroup"],[1,"stretch-workout-card","flex","h-full","flex-col","p-3","md:p-6"],[1,"flex-1"],[1,"form-field"],[1,"mb-4","block","text-sm","font-medium"],["bindLabel","label","bindValue","value","formControlName","intensity","placeholder","Select intensity level",3,"items","clearable"],[1,"mt-1","text-sm","text-red-600"],["appearance","outline",1,"w-full"],["matInput","","type","number","formControlName","duration","placeholder","e.g., 30","min","1"],["matInput","","formControlName","dateCreated",3,"matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","formControlName","comment","rows","3","placeholder","How did you feel? Which areas did you focus on..."],[1,"mt-6","flex","justify-between","gap-4","pt-4"],["mat-stroked-button","","color","warn","type","button",1,"px-6",3,"click"],[1,"mr-2"],["mat-stroked-button","","color","accent","type","submit",1,"stretch-save-button","px-6",3,"disabled"],[1,"flex","h-full","w-full",3,"opacity"]],template:function(m,n){if(m&1){let u=I();e(0,"div",1),p(1,ft,2,1,"div",2),e(2,"div",3)(3,"div",4)(4,"button",5),S("click",function(){return k(u),C(n.goBack())}),e(5,"mat-icon"),o(6,"arrow_back"),t()(),e(7,"h1",6),o(8,"Add Stretch Workout"),t()(),e(9,"p",7),o(10,"Track your stretching sessions and flexibility progress"),t()(),e(11,"form",8),S("ngSubmit",function(){return k(u),C(n.saveWorkout())}),e(12,"mat-card",9)(13,"mat-card-content",10)(14,"div",11)(15,"label",12),o(16,"Intensity Level *"),t(),s(17,"ng-select",13),p(18,ht,2,0,"div",14),t(),e(19,"mat-form-field",15)(20,"mat-label"),o(21,"Duration (minutes) *"),t(),s(22,"input",16),p(23,kt,2,0,"mat-error"),p(24,Ct,2,0,"mat-error"),t(),e(25,"mat-form-field",15)(26,"mat-label"),o(27,"Date"),t(),s(28,"input",17)(29,"mat-datepicker-toggle",18)(30,"mat-datepicker",null,0),t(),e(32,"mat-form-field",15)(33,"mat-label"),o(34,"Comments"),t(),s(35,"textarea",19),t()(),e(36,"div",20)(37,"button",21),S("click",function(){return k(u),C(n.discardWorkout())}),e(38,"mat-icon",22),o(39,"delete_outline"),t(),o(40," Discard "),t(),e(41,"button",23)(42,"mat-icon",22),o(43,"save"),t(),o(44," Save Workout "),t()()()()()}if(m&2){let u=w(31);a(),f(n.isApiLoading()?1:-1),a(10),c("formGroup",n.stretchWorkoutForm),a(6),c("items",n.intensityOptions)("clearable",!1),a(),f(n.stretchWorkoutForm.controls.intensity.invalid&&n.stretchWorkoutForm.controls.intensity.touched?18:-1),a(5),f(n.stretchWorkoutForm.controls.duration.hasError("required")?23:-1),a(),f(n.stretchWorkoutForm.controls.duration.hasError("min")?24:-1),a(4),c("matDatepicker",u),a(),c("for",u),a(12),c("disabled",n.isApiLoading()||n.stretchWorkoutForm.invalid)}},dependencies:[D,j,P,V,B,A,R,U,G,q,N,T,F,L,O,K,Y,z,et,tt,Z,J,Q,X,$,at,ot,it,nt,mt,st,ut,lt],styles:[".stretch-workout-title[_ngcontent-%COMP%]{color:light-dark(#db2777,#f9a8d4)}.stretch-workout-card[_ngcontent-%COMP%]{border-left:4px solid light-dark(#db2777,#f9a8d4)}.stretch-save-button[_ngcontent-%COMP%]{border-color:light-dark(#db2777,#f9a8d4)!important;color:light-dark(#db2777,#f9a8d4)!important}.stretch-save-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:light-dark(rgba(219,39,119,.04),rgba(249,168,212,.04))}.form-field[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};export{pt as StretchWorkoutCreateComponent};
