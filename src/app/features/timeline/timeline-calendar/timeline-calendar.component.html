<div class="relative flex h-full flex-col overflow-hidden">
  <!-- Loader overlay -->
  @if (loading()) {
    <app-loader class="absolute inset-0 z-50"></app-loader>
  }

  <!-- Fixed top calendar days of the week -->
  <div class="timeline-header flex-shrink-0">
    <mat-calendar class="w-full"> </mat-calendar>
  </div>

  <!-- Scrollable calendars container -->
  <div
    #timelineBody
    appAutoScrollToBottom
    appScrollToTopDetector
    (scrolledToTop)="onScrolledToTop()"
    class="timeline-body appear flex-1 overflow-y-auto"
  >
    @for (month of calendarMonths; track trackByMonth($index, month)) {
      <div class="flex flex-col">
        <div class="dashboard-card px-6 py-4 text-center">
          <span class="dashboard-heading mr-2 text-lg font-semibold">
            {{ getMonthName(month).month }}
          </span>
          <span class="dashboard-text text-base opacity-70">
            {{ getMonthName(month).year }}
          </span>
        </div>
        <mat-calendar class="w-full" [startAt]="month" [dateClass]="dateClass"> </mat-calendar>
      </div>
    }
  </div>
</div>
